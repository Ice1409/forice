export interface ExerciseInstruction {
  name: string
  muscles: string
  steps: string[]
  tips?: string[]
  image?: string
}

export const exerciseInstructions: Record<string, ExerciseInstruction> = {
  "Kettlebell Swing": {
    name: "Kettlebell Swing (แกว่งลูกตุ้ม)",
    muscles: "สะโพก, ก้น, หลัง, แกนกลาง",
    steps: [
      "ยืนแยกขากว้างพอประมาณ ถือของไว้ด้วย 2 มือ",
      "แกว่งของจากระหว่างขาไปข้างหน้า สูงระดับหน้าอก แล้วปล่อยลงอย่างควบคุม",
      "ใช้แรงจากสะโพก ไม่ใช่แขนในการยก",
    ],
    tips: ["รักษาหลังให้ตรง", "ใช้แรงจากสะโพกเป็นหลัก ไม่ใช่แขน", "หายใจเข้าตอนลง หายใจออกตอนยก"],
  },
  "Goblet Squat": {
    name: "Goblet Squat (สควอทโดยถือของไว้หน้าอก)",
    muscles: "ขา, สะโพก, หลังล่าง",
    steps: ["ถือของไว้หน้าอก มือ 2 ข้าง", "ยืนแยกขากว้างกว่าหัวไหล่เล็กน้อย แล้วนั่งยองลงจนต้นขาขนานกับพื้น", "ดันตัวกลับขึ้น"],
    tips: ["เก็บอกตลอดการเคลื่อนไหว", "เข่าชี้ไปทางเดียวกับปลายเท้า", "น้ำหนักลงที่ส้นเท้า"],
  },
  "Shoulder Press": {
    name: "Kettlebell Shoulder Press (ดันของขึ้นเหนือหัว)",
    muscles: "หัวไหล่, แขน",
    steps: ["ถือของด้วยมือข้างเดียว แล้วดันขึ้นเหนือหัวจนแขนเหยียดตรง", "ค่อยๆ ลดลงอย่างช้าๆ"],
    tips: ["รักษาแกนกลางให้แข็งแรง", "ระวังไม่ให้หลังแอ่น", "ทำช้าๆ และควบคุมการเคลื่อนไหว"],
  },
  "Russian Twist": {
    name: "Russian Twist (บิดตัวซ้ายขวา)",
    muscles: "หน้าท้องด้านข้าง",
    steps: ["นั่งยกเท้าลอยจากพื้นเล็กน้อย ถือของไว้กลางลำตัว", "บิดตัวไปซ้าย–ขวา ให้ของแตะพื้นด้านข้าง"],
    tips: ["รักษาหลังให้ตรง", "บิดจากเอว ไม่ใช่แค่แขน", "ยิ่งยกเท้าสูงยิ่งยาก"],
  },
  เดินเร็ว: {
    name: "เดินเร็ว (Fast Walking)",
    muscles: "ขา, หัวใจและปอด",
    steps: [
      "ยืนตัวตรง แขนงอที่ข้อศอก",
      "เดินด้วยความเร็วที่มากกว่าปกติ แต่ไม่ถึงกับวิ่ง",
      "แกว่งแขนสลับกับการก้าวเท้า",
      "เดินให้ได้ตามเวลาที่กำหนด",
    ],
    tips: ["รักษาการหายใจให้สม่ำเสมอ", "ส้นเท้าลงก่อนแล้วกลิ้งไปหาปลายเท้า", "มองตรงไปข้างหน้า"],
  },
  วิ่งเหยาะ: {
    name: "วิ่งเหยาะ (Jogging)",
    muscles: "ขา, หัวใจและปอด",
    steps: [
      "ยืนตัวตรง แขนงอที่ข้อศอก",
      "วิ่งด้วยความเร็วปานกลาง",
      "ลงเท้าเบาๆ พยายามให้ปลายเท้าหรือกลางเท้าลงก่อนส้นเท้า",
      "วิ่งตามเวลาที่กำหนด พักตามที่กำหนด",
    ],
    tips: ["หายใจเข้าออกให้สม่ำเสมอ", "รักษาแกนกลางให้มั่นคง", "ไม่ต้องวิ่งเร็วเกินไป เน้นความต่อเนื่อง"],
  },
  วิดพื้นเข่า: {
    name: "วิดพื้นเข่า (Knee Push-ups)",
    muscles: "หน้าอก, ไหล่, แขน",
    steps: [
      "นอนคว่ำ วางมือกว้างกว่าไหล่เล็กน้อย",
      "ให้หัวเข่าแตะพื้น ยกปลายเท้าขึ้น",
      "ลดตัวลงจนหน้าอกเกือบแตะพื้น แล้วดันขึ้น",
      "ทำซ้ำตามจำนวนที่กำหนด",
    ],
    tips: ["รักษาลำตัวให้เป็นเส้นตรงจากศีรษะถึงเข่า", "หายใจเข้าตอนลง หายใจออกตอนดันขึ้น", "อย่าให้ก้นสูงหรือต่ำเกินไป"],
  },
  ลุกนั่ง: {
    name: "ลุกนั่ง (Sit-ups)",
    muscles: "หน้าท้อง, สะโพกหน้า",
    steps: [
      "นอนหงาย งอเข่า วางเท้าราบกับพื้น",
      "วางมือไขว้ที่หน้าอกหรือแตะที่หู (ไม่ดึงคอ)",
      "ยกลำตัวขึ้นจนข้อศอกแตะหรือเลยเข่า",
      "ลดตัวลงช้าๆ แต่ไม่ให้หลังแตะพื้นสุด",
      "ทำซ้ำตามจำนวนที่กำหนด",
    ],
    tips: ["ไม่ดึงคอขณะยกตัว", "ใช้กล้ามเนื้อหน้าท้องในการยกตัว", "หายใจออกขณะยกตัวขึ้น"],
  },
  แพลงก์: {
    name: "แพลงก์ (Plank)",
    muscles: "แกนกลาง, หน้าท้อง, หลัง",
    steps: [
      "เริ่มในท่าวิดพื้น แขนเหยียดตรง",
      "ลดตัวลงให้น้ำหนักพักบนข้อศอกและปลายเท้า",
      "รักษาลำตัวให้เป็นเส้นตรงจากศีรษะถึงส้นเท้า",
      "เกร็งหน้าท้องและก้น",
      "คงท่านี้ไว้ตามเวลาที่กำหนด",
    ],
    tips: ["หายใจปกติ ไม่กลั้นหายใจ", "ไม่ให้สะโพกตกหรือยกสูงเกินไป", "มองลงที่พื้นเพื่อให้คอเป็นแนวเดียวกับลำตัว"],
  },
  ยืดเหยียดเต็มตัว: {
    name: "ยืดเหยียดเต็มตัว (Full Body Stretching)",
    muscles: "ทั่วร่างกาย",
    steps: [
      "ยืนแยกขากว้างประมาณหัวไหล่ ยกแขนขึ้นเหนือศีรษะ ยืดตัวขึ้น",
      "ก้มตัวลงแตะปลายเท้าหรือพื้น ค้างไว้ 15-30 วินาที",
      "นั่งลงบนพื้น ยืดขาไปด้านหน้า โน้มตัวไปข้างหน้า",
      "นั่งไขว้ขา บิดลำตัวไปด้านข้าง",
      "นอนหงาย ดึงเข่าเข้าหาอก",
    ],
    tips: ["ยืดจนรู้สึกตึงแต่ไม่เจ็บ", "ค้างแต่ละท่า 15-30 วินาที", "หายใจลึกและสม่ำเสมอ"],
  },
  วิดพื้น: {
    name: "วิดพื้น (Push-ups)",
    muscles: "หน้าอก, ไหล่, แขน, แกนกลาง",
    steps: [
      "เริ่มในท่าวิดพื้น มือวางกว้างกว่าไหล่เล็กน้อย",
      "เท้าชิดกัน หรือห่างเล็กน้อย",
      "ลำตัวเป็นเส้นตรงจากศีรษะถึงส้นเท้า",
      "ลดตัวลงจนหน้าอกเกือบแตะพื้น",
      "ดันตัวกลับขึ้นจนแขนเหยียดตรง",
    ],
    tips: ["รักษาลำตัวให้ตรง ไม่แอ่นหลังหรือยกก้น", "หายใจเข้าขณะลดตัวลง หายใจออกขณะดันขึ้น", "ศอกชี้ออกด้านข้างเล็กน้อย ไม่ชี้ตรงไปด้านหลัง"],
  },
  Swing: {
    name: "Kettlebell Swing (แกว่งลูกตุ้ม)",
    muscles: "สะโพก, ก้น, หลัง, แกนกลาง",
    steps: [
      "ยืนแยกขากว้างพอประมาณ ถือของไว้ด้วย 2 มือ",
      "แกว่งของจากระหว่างขาไปข้างหน้า สูงระดับหน้าอก แล้วปล่อยลงอย่างควบคุม",
      "ใช้แรงจากสะโพก ไม่ใช่แขนในการยก",
    ],
    tips: ["รักษาหลังให้ตรง", "ใช้แรงจากสะโพกเป็นหลัก ไม่ใช่แขน", "หายใจเข้าตอนลง หายใจออกตอนยก"],
  },
}

export function getExerciseInstruction(exerciseName: string): ExerciseInstruction | null {
  // Clean up the exercise name to match keys in our instructions object
  const cleanName = exerciseName
    .split(" ")
    .filter((part) => !part.includes("x") && !part.match(/^\d+$/) && !part.includes("นาที") && !part.includes("วิ"))
    .join(" ")
    .replace(/$$[^)]*$$/g, "")
    .trim()

  // Try to find exact match first
  if (exerciseInstructions[cleanName]) {
    return exerciseInstructions[cleanName]
  }

  // Try to find partial match
  for (const key in exerciseInstructions) {
    if (cleanName.includes(key) || key.includes(cleanName)) {
      return exerciseInstructions[key]
    }
  }

  // Special cases
  if (cleanName.includes("Kettlebell") && cleanName.includes("Swing")) {
    return exerciseInstructions["Kettlebell Swing"]
  }

  if (cleanName === "Swing") {
    return exerciseInstructions["Kettlebell Swing"]
  }

  return null
}
